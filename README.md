# 生成AI部門事前課題進捗ダッシュボード

## 📋 ファイル構成

| ファイル名 | 説明 |
|------------|------|
| `dashboard.html` | 進捗管理ダッシュボード（メインUI） |
| `google_apps_script.gs` | Google スプレッドシート連携用スクリプト |
| `README.md` | このドキュメント |

---

## 🚀 セットアップ手順

### 1. HTMLダッシュボードの使用（ローカル保存のみ）

1. `dashboard.html` をダウンロード
2. ブラウザで開く
3. 進捗を入力し「ローカル保存」ボタンで保存
   - データはブラウザのLocalStorageに保存されます

### 2. Googleスプレッドシート連携の設定

#### Step 1: スプレッドシートの作成

1. [Google Drive](https://drive.google.com) を開く
2. 「新規」→「Google スプレッドシート」→「空白のスプレッドシート」
3. スプレッドシートに名前を付ける（例：「生成AI競技会進捗管理」）
4. URLからスプレッドシートIDをコピー
   - URL: `https://docs.google.com/spreadsheets/d/1Exqpklr9_1wN7pUsEJ9VvdbCk2YIjZEQSn7nEuY1rd8/edit`

#### Step 2: Google Apps Scriptの設定

1. スプレッドシートで「拡張機能」→「Apps Script」を開く
2. デフォルトのコードを削除
3. `google_apps_script.gs` の内容をコピー＆ペースト
4. `SPREADSHEET_ID` を実際のIDに置き換え：
   ```javascript
   const SPREADSHEET_ID = 'あなたのスプレッドシートID';
   ```
5. 「保存」アイコンをクリック

#### Step 3: 初期化

1. 関数セレクタで `testInit` を選択
2. 「実行」ボタンをクリック
3. 初回実行時は認証を求められるので許可
4. スプレッドシートに「進捗データ」「更新ログ」シートが作成される

#### Step 4: ウェブアプリとしてデプロイ

1. 「デプロイ」→「新しいデプロイ」
2. 歯車アイコン →「ウェブアプリ」を選択
3. 設定：
   - 説明: 進捗ダッシュボードAPI
   - 次のユーザーとして実行: 自分
   - アクセスできるユーザー: **全員**（CORSの関係で必要）
4. 「デプロイ」をクリック
5. 表示されるURLをコピー
https://script.google.com/macros/s/AKfycbwgohZQjX5hMKXxidmyt-b23t6vsyjimmdFdwy73IhZEYApO8DFHHg-PcuTaQ4fxb6V/exec

#### Step 5: ダッシュボードとの接続

1. `dashboard.html` をブラウザで開く
2. 「⚙️ API設定」ボタンをクリック
3. コピーしたURLを貼り付けて保存

---

## 📊 Googleスプレッドシートの構成

### メインシート: 「進捗データ」

| フィールド名 | 型 | 説明 |
|-------------|-----|------|
| ID | 文字列 | レコード識別子（"main"固定） |
| 最終更新日時 | 日時 | ISO 8601形式 |
| Step1_Point1 | 文字列 | ステップ1ポイント状態（complete/incomplete） |
| Step1_Criteria1〜5 | 文字列 | ステップ1評価基準1〜5の状態 |
| Step1_Issue | 文字列 | ステップ1の課題メモ（500字以内） |
| Step2_Point1 | 文字列 | ステップ2ポイント状態 |
| Step2_Criteria1〜5 | 文字列 | ステップ2評価基準1〜5の状態 |
| Step2_Issue | 文字列 | ステップ2の課題メモ |
| Step3_Point1 | 文字列 | ステップ3ポイント状態 |
| Step3_Criteria1〜6 | 文字列 | ステップ3評価基準1〜6の状態 |
| Step3_Issue | 文字列 | ステップ3の課題メモ |
| Step4_Point1 | 文字列 | ステップ4ポイント状態 |
| Step4_Criteria1〜7 | 文字列 | ステップ4評価基準1〜7の状態 |
| Step4_Issue | 文字列 | ステップ4の課題メモ |
| Step5_Point1 | 文字列 | ステップ5ポイント状態 |
| Step5_Criteria1〜7 | 文字列 | ステップ5評価基準1〜7の状態 |
| Step5_Issue | 文字列 | ステップ5の課題メモ |

### ログシート: 「更新ログ」

| フィールド名 | 型 | 説明 |
|-------------|-----|------|
| タイムスタンプ | 日時 | 操作日時（日本時間） |
| 操作 | 文字列 | 保存/読込 |
| ユーザー | 文字列 | 実行ユーザーのメールアドレス |
| 詳細 | 文字列 | 操作の詳細 |

---

## 🎯 ダッシュボード機能一覧

### 進捗表示
- **カウントダウンタイマー**: 提出日（2026/1/9）までの残り時間
- **総合進捗率**: 全項目の完了率をパーセント表示
- **完了/残り項目数**: 具体的な数値で進捗を把握
- **フロー図**: 5ステップ＋ユーザーアクションの全体像を視覚化

### ステップごとの管理
- **ポイント評価**: 各ステップの重要ポイントの完了状態
- **評価基準チェック**: 競技の評価基準ごとに未完了/完了を選択
- **課題メモ**: 500文字以内で現在の課題を記録

### データ管理
- **ローカル保存**: ブラウザのLocalStorageに即時保存
- **スプレッドシート保存**: Googleスプレッドシートにクラウド保存
- **スプレッドシート読込**: クラウドから最新データを取得
- **JSONエクスポート**: バックアップ用にJSONファイルでダウンロード

---

## ⚠️ 注意事項

1. **CORS制限**: スプレッドシート連携はウェブアプリのアクセス権限を「全員」に設定する必要があります
2. **ブラウザ互換性**: 最新のChrome、Firefox、Edge、Safariで動作確認済み
3. **データバックアップ**: 重要なデータは定期的にJSONエクスポートすることを推奨
4. **提出日について**: デフォルトは2025年1月9日設定。変更が必要な場合はHTMLを編集

---

## 🔧 カスタマイズ

### 提出日の変更
`dashboard.html` の以下の行を編集：
```javascript
const deadline = new Date('2026-01-09T23:59:59');
```

### 評価基準の追加・変更
HTMLの各ステップセクション内の `.criteria-grid` 内に項目を追加し、
JavaScript の `dashboardData` 構造と Google Apps Script のカラム定義も合わせて更新してください。

---

## 📞 トラブルシューティング

### スプレッドシートに保存できない
1. API URLが正しく設定されているか確認
2. Apps Scriptが正しくデプロイされているか確認
3. ブラウザのコンソールでエラーを確認

### データが読み込めない
1. スプレッドシートに「main」IDのレコードが存在するか確認
2. 一度ローカル保存してからスプレッドシートに保存

---

© 2025 生成AI競技会チーム
